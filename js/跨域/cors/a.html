<!DOCTYPE html>
<html>
<head>
  <title>CORS</title>
</head>
<body>
  <h2>a 跨域资源共享：</h2>
  <div id="text"></div>
<script type="text/javascript">
  // 设置cookie
  document.cookie = 'name=hello';
  var xhr = new XMLHttpRequest();
  var data = {
    name: 'hello',
    password: 'world'
  };
  // xhr.withCredentials = true;
  xhr.open('get', 'http://localhost:8082/api/a', true);
  xhr.setRequestHeader('Content-Type', 'text/plain');
  xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
  // xhr.setRequestHeader('Authorization', 'aaa');
  xhr.send(data);
  xhr.onreadystatechange = function() {
    console.log(xhr.readyState, xhr.status, xhr.statusText);
    if(xhr.readyState == 4){
      var res = xhr.response;
      console.log(res);
      document.getElementById('text').innerText = res;
    }
  }
</script>
</body>
</html>